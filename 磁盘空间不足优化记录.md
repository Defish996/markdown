# 磁盘空间不足优化记录

1. 看到磁盘占用89%

   ![image-20251120110327669](https://cdn.jsdelivr.net/gh/Defish996/Picture-bed@main/202511201103733.png)

   第一时间打开机器输入 **df -h**
   ![image-20251120110300734](https://cdn.jsdelivr.net/gh/Defish996/Picture-bed@main/202511201103780.png)

看到在/下占用较多， 然后进入根目录依次对磁盘占用高的文件夹进行分析

**du -sh ./* 2>/dev/null | sort -hr**

du表示disk used 

-s表示 summarize（总结），只显示总大小。不递归内部每个子文件

-h 表示human-readable 人类可读，将字节信息转化为GB MB等信息

./* 在当前目录下的所有文件

2>/dev/null

表示2是stderr的文件描述符 >表示重定向 /dev/null是一个黑洞，任何输入里面的东西都会被丢弃

他整体表示忽略所有错误信息

| sort -hr

| 管道运输

-h 按照人类可读的数字顺序

-r 倒叙，从大到小